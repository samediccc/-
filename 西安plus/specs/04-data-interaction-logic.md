# 需求规格：数据加载与交互逻辑

## 1. Purpose (目的)

定义地标数据的结构、加载方式，并实现地图与信息面板之间的核心交互逻辑。

## 2. Requirements (需求列表)

-   **数据结构**: 设计一个 JSON 格式来存储地标数据。每个地标对象应至少包含以下字段：
    -   `id`: 字符串，唯一标识符 (e.g., "bell-tower")。
    -   `name`: 字符串，地标名称 (e.g., "钟楼")。
    -   `era`: 字符串，所属时代 ("ancient" 或 "modern")。
    -   `coordinates`: 数组，`[x, y]` 坐标。
    -   `description`: 字符串，详细介绍文本。
-   **数据加载**: 
    -   创建一个静态的 `landmarks.json` 文件来存放所有地标数据。
    -   在应用启动时，使用 `fetch` API 异步加载此 JSON 文件。
    -   加载成功后，将数据解析并存储在一个全局可访问的 JavaScript 变量中。
-   **信息面板**: 
    -   在 HTML 中创建一个信息面板的容器，默认状态为隐藏。
    -   面板内部包含标题区域、内容区域和一个关闭按钮。

## 3. Interaction / Logic (交互逻辑)

-   **数据驱动渲染**: 页面加载并获取数据后，遍历地标数据，根据每个地标的 `coordinates` 和 `era` 属性，在 SVG 地图上动态生成对应的地标元素。
-   **点击地标 -> 显示信息**: 
    1.  监听地图模块派发的地标点击事件，获取被点击地标的 `id`。
    2.  根据 `id` 在全局地标数据中查找对应的地标对象。
    3.  将该对象的 `name` 和 `description` 填充到信息面板的标题和内容区域。
    4.  将信息面板设置为可见状态，并添加一个入场动画效果。
-   **关闭信息面板**: 点击信息面板上的关闭按钮，面板应被隐藏，并附带一个退场动画。
-   **时代过滤**: 监听导航栏派发的时代切换事件。根据收到的时代值（"ancient" 或 "modern"），过滤地图上显示的地标，只显示属于当前时代的地标。
